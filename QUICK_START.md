# WireGuard Server - –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞ (5 –º–∏–Ω—É—Ç)

### 1. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞
- –ß–∏—Å—Ç—ã–π Debian 12
- SSH –¥–æ—Å—Ç—É–ø –ø–æ–¥ root
- –ü—É–±–ª–∏—á–Ω—ã–π IPv4 –∞–¥—Ä–µ—Å

### 2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞
```bash
# –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ —Å–µ—Ä–≤–µ—Ä—É
ssh root@your-server-ip

# –°–∫–∞—á–∞–π—Ç–µ —Å–∫—Ä–∏–ø—Ç
wget https://raw.githubusercontent.com/spochipov/wireguard_quickstart/main/wg-server-setup.sh

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–∫—É
chmod +x wg-server-setup.sh
./wg-server-setup.sh
```

### 3. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å–µ—Ç–∏
–°–∫—Ä–∏–ø—Ç –≤—ã–≤–µ–¥–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –∞–¥—Ä–µ—Å–Ω—ã–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞:
```
IPv4: 10.XXX.XXX.0/24
IPv6: fdXX:XXXX:XXXX::/64
```
**–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ —Å–æ—Ö—Ä–∞–Ω–∏—Ç–µ —ç—Ç—É –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é!**

## üì± –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–æ–≤

### –ú–æ–±–∏–ª—å–Ω—ã–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
```bash
# –î–æ–±–∞–≤–∏—Ç—å –∫–ª–∏–µ–Ω—Ç–∞
wg-add-client phone-john

# –û—Ç—Å–∫–∞–Ω–∏—Ä–æ–≤–∞—Ç—å QR-–∫–æ–¥ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ WireGuard
```

### –ö–æ–º–ø—å—é—Ç–µ—Ä—ã
```bash
# –î–æ–±–∞–≤–∏—Ç—å –∫–ª–∏–µ–Ω—Ç–∞
wg-add-client laptop-mary

# –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∫–æ–Ω—Ñ–∏–≥
cat /etc/wireguard/clients/laptop-mary.conf
```

### –†–æ—É—Ç–µ—Ä—ã
```bash
# –î–æ–±–∞–≤–∏—Ç—å —Ä–æ—É—Ç–µ—Ä
wg-add-client router-office

# –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—é –Ω–∞ —Ä–æ—É—Ç–µ—Ä–µ
```

## üîß –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã
```bash
wg-list-clients          # –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤
wg-add-client <name>     # –î–æ–±–∞–≤–∏—Ç—å –∫–ª–∏–µ–Ω—Ç–∞
wg-remove-client <name>  # –£–¥–∞–ª–∏—Ç—å –∫–ª–∏–µ–Ω—Ç–∞
wg-server-info          # –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–µ—Ä–≤–µ—Ä–µ
wg show                 # –ê–∫—Ç–∏–≤–Ω—ã–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
```

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
```bash
# –°—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–∏—Å–∞
systemctl status wg-quick@wg0

# –õ–æ–≥–∏
journalctl -u wg-quick@wg0 -f

# –¢—Ä–∞—Ñ–∏–∫
wg show wg0 transfer
```

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ:
- ‚úÖ UFW Firewall
- ‚úÖ SSH –∑–∞—â–∏—Ç–∞ (–ø–æ—Ä—Ç 22)
- ‚úÖ WireGuard –ø–æ—Ä—Ç (51820/udp)
- ‚úÖ –ò–∑–æ–ª—è—Ü–∏—è –∫–ª–∏–µ–Ω—Ç–æ–≤
- ‚úÖ –°–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è –∫—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—è

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:
1. –°–º–µ–Ω–∏—Ç–µ SSH –ø–æ—Ä—Ç (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
3. –†–µ–≥—É–ª—è—Ä–Ω–æ —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ –±—ç–∫–∞–ø—ã: `wg-backup`

## üåê –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

### Dual-Stack (IPv4 + IPv6)
- –ö–∞–∂–¥—ã–π –∫–ª–∏–µ–Ω—Ç –ø–æ–ª—É—á–∞–µ—Ç IPv4 –∏ IPv6 –∞–¥—Ä–µ—Å–∞
- –ü–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–≤
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è

### –£–Ω–∏–∫–∞–ª—å–Ω—ã–µ —Å–µ—Ç–∏
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –Ω–µ–∫–æ–Ω—Ñ–ª–∏–∫—Ç—É—é—â–∏—Ö –ø–æ–¥—Å–µ—Ç–µ–π
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–∞ —Å–µ—Ä–≤–µ—Ä–æ–≤ –Ω–∞ –æ–¥–Ω–æ–º –∫–ª–∏–µ–Ω—Ç–µ
- –î–∏–∞–ø–∞–∑–æ–Ω IPv4: 10.100-199.0-255.0/24
- –î–∏–∞–ø–∞–∑–æ–Ω IPv6: fd00::/8 (ULA)

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- BBR congestion control
- –£–≤–µ–ª–∏—á–µ–Ω–Ω—ã–µ —Å–µ—Ç–µ–≤—ã–µ –±—É—Ñ–µ—Ä—ã
- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è connection tracking
- MTU 1420 –¥–ª—è –º–∏–Ω–∏–º–∏–∑–∞—Ü–∏–∏ —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞—Ü–∏–∏

## üÜò –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –°–µ—Ä–≤–µ—Ä –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è
```bash
systemctl status wg-quick@wg0
journalctl -u wg-quick@wg0
```

### –ö–ª–∏–µ–Ω—Ç –Ω–µ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –±—Ä–∞–Ω–¥–º–∞—É—ç—Ä
ufw status

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
wg-quick strip wg0

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–µ—Ç—å
ping <server-ip>
```

### –ù–∏–∑–∫–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–∞–≥—Ä—É–∑–∫—É
htop

# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–µ—Ç–∏
iftop -i wg0

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å MTU
ip link show wg0
```

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

- üìñ –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: [README.md](README.md)
- üêõ –°–æ–æ–±—â–∏—Ç—å –æ–± –æ—à–∏–±–∫–µ: —Å–æ–∑–¥–∞–π—Ç–µ issue
- üí° –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è: —Å–æ–∑–¥–∞–π—Ç–µ pull request

---

**–í—Ä–µ–º—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏:** ~5 –º–∏–Ω—É—Ç  
**–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –∫–ª–∏–µ–Ω—Ç—ã:** Android, iOS, Windows, macOS, Linux, —Ä–æ—É—Ç–µ—Ä—ã  
**–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:** –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–æ –¥–ª—è Gigabit+
