# Server Tools — Утилиты управления WireGuard сервером

Этот каталог содержит набор утилит для управления и диагностики WireGuard-сервера. Цель — сгруппировать все вспомогательные скрипты в одном месте репозитория, упростить сопровождение и документацию.

Содержимое
- wg-add-client.sh        — создать/добавить клиента (копия из корня репозитория)
- wg-remove-client.sh     — удалить клиента
- wg-list-clients.sh      — вывести список клиентов
- wg-debug-internet.sh    — диагностика проблем доступа в интернет (копия)
- wg-performance-test.sh  — тест производительности (копия)
- wg-change-port.sh       — сменить ListenPort сервера (копия из scripts/)
- wg-server-info.sh       — локальная утилита показа информации о сервере (генерируется установщиком)
- wg-backup.sh            — утилита бэкапа (опционально)

Установка (автоматически при запуске `wg-server-setup.sh`)
- Установщик по умолчанию скачивает/копирует эти утилиты в каталог `/usr/local/bin/wg-tools/` и создает символьные ссылки в `/usr/local/bin/` для обратной совместимости.
- Если вы хотите установить вручную:
  1. Скопируйте файлы в `/usr/local/bin/wg-tools/` и сделайте их исполняемыми:
     sudo mkdir -p /usr/local/bin/wg-tools
     sudo cp server-tools/* /usr/local/bin/wg-tools/
     sudo chmod +x /usr/local/bin/wg-tools/*
  2. Создайте удобные ссылки в PATH:
     for f in /usr/local/bin/wg-tools/*; do sudo ln -sf "$f" "/usr/local/bin/$(basename $f)"; done

Совместимость и поведение
- Скрипты ожидают, что серверный конфиг расположен в `/etc/wireguard/wg0.conf`.
- Большинство утилит требуют прав root.
- Скрипты, которые модифицируют систему (смена порта, изменение iptables и т.д.), сделают бэкап файлов перед изменением.

Рекомендации по использованию
- Запускайте `wg-debug-internet.sh` перед изменениями, чтобы понять текущее состояние.
- Для смены порта сначала прочитайте `wg-server-info` и создайте бэкап вручную (если требуется), затем используйте `wg-change-port`.
- После любых изменений проверяйте `wg show` и `wg-server-info`.

Документация
- Обновите основной `README.md` и `scripts/README.md`, если вы изменяете структуру или добавляете/удаляете утилиты.
- В репозитории есть `QUICK_START.md` — в ней описаны шаги быстрого развёртывания и тестирования.

Если нужно, могу:
- Скопировать текущие скрипты проекта в этот каталог (создать копии файлов в `server-tools/`).
- Обновить `README.md` в корне и `scripts/README.md`, чтобы ссылаться на `server-tools/`.
- Обновить `wg-backup` (wg-backup или wg-server-setup создаёт бэкап) чтобы архивировать `server-tools/` вместо отдельных файлов.
